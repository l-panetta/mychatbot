{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!doctype html>\
<html>\
<head>\
  <meta charset="utf-8"/>\
  <title>Mon Chatbot</title>\
  <style>\
    body\{font-family:Arial;max-width:800px;margin:20px auto;padding:10px\}\
    #chat\{border:1px solid #ddd;padding:10px;height:400px;overflow:auto;margin-bottom:10px\}\
    .msg\{margin:6px 0\}\
    .me\{font-weight:600\}\
    .bot\{color:#064\}\
  </style>\
</head>\
<body>\
  <h2>Chatbot (prototype)</h2>\
  <div id="chat"></div>\
  <input id="msg" placeholder="\'c9cris ta question..." style="width:80%"/>\
  <button id="send">Envoyer</button>\
\
  <script>\
    const chatEl = document.getElementById('chat');\
    function append(who, text)\{\
      const d = document.createElement('div');\
      d.className = 'msg';\
      d.innerHTML = `<span class="$\{who==='me'?'me':'bot'\}">$\{who=== 'me' ? 'Tu' : 'Bot'\}:</span> $\{text\}`;\
      chatEl.appendChild(d);\
      chatEl.scrollTop = chatEl.scrollHeight;\
    \}\
\
    async function send()\{\
      const input = document.getElementById('msg');\
      const m = input.value.trim();\
      if(!m) return;\
      append('me', m);\
      input.value = '';\
      append('bot', '\'85en train de r\'e9fl\'e9chir\'85');\
\
      try\{\
        const res = await fetch('/api/chat', \{\
          method:'POST',\
          headers:\{'Content-Type':'application/json'\},\
          body: JSON.stringify(\{ message: m \})\
        \});\
        const j = await res.json();\
        chatEl.lastChild.remove();\
        append('bot', j.reply || JSON.stringify(j));\
      \}catch(e)\{\
        chatEl.lastChild.remove();\
        append('bot', 'Erreur : ' + e.message);\
      \}\
    \}\
\
    document.getElementById('send').addEventListener('click', send);\
    document.getElementById('msg').addEventListener('keydown', e => \{ if(e.key==='Enter') send(); \});\
  </script>\
</body>\
</html>\
}